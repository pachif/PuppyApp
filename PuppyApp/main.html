<!DOCTYPE html>
<html lang="en" class="fuelux">
<head>
    <title>Main</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap -->
    <link href="Content/bootstrap.min.css" rel="stylesheet" />
    <!--<link href="Content/bootstrap-theme.css" rel="stylesheet" />-->
    <!-- Custom CSS -->
    <link href="Content/sb-admin.css" rel="stylesheet">
    <link href="Content/timeline.css" rel="stylesheet" />
    <!-- Morris Charts CSS -->
    <link href="Content/morris.css" rel="stylesheet">
    <!-- Map Library Styles -->
    <link href='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.css' rel='stylesheet' />
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/MarkerCluster.css' rel='stylesheet' />
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/MarkerCluster.Default.css' rel='stylesheet' />
    <link href="//www.fuelcdn.com/fuelux/3.15.0/css/fuelux.min.css" rel="stylesheet">
    <!-- Custom Fonts -->
    <link href="fonts/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
        .media-body span {
            font-style: italic;
        }
    </style>
</head>
<body>
    <div id="wrapper">
        <!-- Navigation -->
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="main.html">Pupzy</a>
            </div>
            <!-- Top Menu Items -->
            <ul class="nav navbar-right top-nav">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-envelope"></i> <b class="caret"></b></a>
                    <ul class="dropdown-menu message-dropdown">
                        <li class="message-preview">
                            <a href="#">
                                <div class="media">
                                    <span class="pull-left">
                                        <img class="media-object" src="http://placehold.it/50x50" alt="">
                                    </span>
                                    <div class="media-body">
                                        <h5 class="media-heading">
                                            <strong>John Smith</strong>
                                        </h5>
                                        <p class="small text-muted"><i class="fa fa-clock-o"></i> Yesterday at 4:32 PM</p>
                                        <p>Lorem ipsum dolor sit amet, consectetur...</p>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li class="message-preview">
                            <a href="#">
                                <div class="media">
                                    <span class="pull-left">
                                        <img class="media-object" src="http://placehold.it/50x50" alt="">
                                    </span>
                                    <div class="media-body">
                                        <h5 class="media-heading">
                                            <strong>John Smith</strong>
                                        </h5>
                                        <p class="small text-muted"><i class="fa fa-clock-o"></i> Yesterday at 4:32 PM</p>
                                        <p>Lorem ipsum dolor sit amet, consectetur...</p>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li class="message-preview">
                            <a href="#">
                                <div class="media">
                                    <span class="pull-left">
                                        <img class="media-object" src="http://placehold.it/50x50" alt="">
                                    </span>
                                    <div class="media-body">
                                        <h5 class="media-heading">
                                            <strong>John Smith</strong>
                                        </h5>
                                        <p class="small text-muted"><i class="fa fa-clock-o"></i> Yesterday at 4:32 PM</p>
                                        <p>Lorem ipsum dolor sit amet, consectetur...</p>
                                    </div>
                                </div>
                            </a>
                        </li>
                        <li class="message-footer">
                            <a href="#" data-toggle="modal" data-target="#soonModal">Read All New Messages</a>
                        </li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-bell"></i> <b class="caret"></b></a>
                    <ul class="dropdown-menu alert-dropdown">
                        <li>
                            <a href="#">Alert Name <span class="label label-default">Alert Badge</span></a>
                        </li>
                        <li>
                            <a href="#">Alert Name <span class="label label-primary">Alert Badge</span></a>
                        </li>
                        <li>
                            <a href="#">Alert Name <span class="label label-success">Alert Badge</span></a>
                        </li>
                        <li>
                            <a href="#">Alert Name <span class="label label-info">Alert Badge</span></a>
                        </li>
                        <li>
                            <a href="#">Alert Name <span class="label label-warning">Alert Badge</span></a>
                        </li>
                        <li>
                            <a href="#">Alert Name <span class="label label-danger">Alert Badge</span></a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#" data-toggle="modal" data-target="#soonModal">View All</a>
                        </li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <img class="img-circle" src="http://placehold.it/24x24" alt=""> John Smith <b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#soonModal"><i class="fa fa-fw fa-gear"></i> Settings</a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="landing.html"><i class="fa fa-fw fa-power-off"></i> Log Out</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <!-- Sidebar Menu Items - These collapse to the responsive navigation menu on small screens -->
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav side-nav">
                    <li class="active">
                        <a href="main.html"><i class="fa fa-fw fa-dashboard"></i> Dashboard</a>
                    </li>
                    <li>
                        <a onclick="javascript: showPane(this, 'explopane');"><i class="fa fa-fw fa-globe"></i> Explore Map</a>
                    </li>
                    <li>
                        <a href="#" data-toggle="modal" data-target="#soonModal"><i class="fa fa-fw fa-bar-chart"></i> Manage Charts</a>
                    </li>
                    <li>
                        <a onclick="javascript: showPane(this, 'eventpane');"><i class="fa fa-fw fa-clock-o"></i> Manage Events</a>
                    </li>
                    <li>
                        <a onclick="javascript: showPane(this, 'petpane');"><i class="fa fa-fw fa-paw"></i> Manage Pets</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </nav>
        <div id="page-wrapper">
            <div class="container-fluid">
                <div class="fade in" id="dashpane">
                    <!-- Page Heading -->
                    <div class="row">
                        <div class="col-lg-12">
                            <h1 class="page-header">
                                Dashboard <small>Overview</small>
                            </h1>
                            <ol class="breadcrumb">
                                <li class="active">
                                    <i class="fa fa-dashboard"></i> Dashboard
                                </li>
                            </ol>
                        </div>
                    </div>
                    <!-- /.row -->
                    <div class="row">
                        <div class="col-lg-6 col-md-6">
                            <div class="panel panel-primary">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div class="col-xs-3">
                                            <i class="fa fa-comments fa-5x"></i>
                                        </div>
                                        <div class="col-xs-9 text-right">
                                            <div class="huge">26</div>
                                            <div>New Messages!</div>
                                        </div>
                                    </div>
                                </div>
                                <a href="#" data-toggle="modal" data-target="#soonModal">
                                    <div class="panel-footer">
                                        <span class="pull-left">View Details</span>
                                        <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                        <div class="clearfix"></div>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6">
                            <div class="panel panel-green">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div class="col-xs-3">
                                            <i class="fa fa-tasks fa-5x"></i>
                                        </div>
                                        <div class="col-xs-9 text-right">
                                            <div class="huge">12</div>
                                            <div>New Events!</div>
                                        </div>
                                    </div>
                                </div>
                                <a href="#" data-toggle="modal" data-target="#soonModal">
                                    <div class="panel-footer">
                                        <span class="pull-left">View Details</span>
                                        <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                        <div class="clearfix"></div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                    <!-- Map Row -->
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="panel panel-yellow">
                                <div class="panel-heading">
                                    <h3 class="panel-title"><i class="fa fa-globe"></i> Map Activity</h3>
                                </div>
                                <div class="panel-body">
                                    <div id="activityMap" style="height:400px">
                                        <!--Maps Goes Here-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.row -->
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="panel panel-red">
                                <div class="panel-heading">
                                    <h3 class="panel-title"><i class="fa fa-clock-o fa-fw"></i> Comunity Recent Events</h3>
                                </div>
                                <div class="panel-body">
                                    <div class="list-group">
                                        <a href="#" class="list-group-item">
                                            <span class="badge">just now</span>
                                            <i class="fa fa-fw fa-bullhorn"></i> More recent activity on {Country} Area
                                        </a>
                                        <a href="#" class="list-group-item">
                                            <span class="badge">4 minutes ago</span>
                                            <i class="fa fa-fw fa-comment"></i> 635 New messages send
                                        </a>
                                        <a href="#" class="list-group-item">
                                            <span class="badge">23 minutes ago</span>
                                            <i class="fa fa-fw fa-bolt"></i> Another event was added in <b>Dog</b> category
                                        </a>
                                        <a href="#" class="list-group-item">
                                            <span class="badge">1 hour ago</span>
                                            <i class="fa fa-fw fa-user"></i> A new user joined the comunity
                                        </a>
                                        <a href="#" class="list-group-item">
                                            <span class="badge">1 hour ago</span>
                                            <i class="fa fa-fw fa-bullhorn"></i> More recent activity on {Country} Area
                                        </a>
                                    </div>
                                    <div class="text-right">
                                        <a href="#" data-toggle="modal" data-target="#soonModal">
                                            View All Activity
                                            <i class="fa fa-arrow-circle-right"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.row -->
                </div>

                <div id="petpane" class="hide fade">
                    <!-- Pane Heading -->
                    <div class="row">
                        <div class="col-lg-12">
                            <h1 class="page-header">
                                Pets <small>Details</small>
                            </h1>
                            
                        </div>
                    </div>
                    <!-- Pane Section Alerts -->
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="alert alert-info alert-dismissable hide">
                                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                                <i class="fa fa-info-circle"></i>  <strong>Changes saved successfully</strong>
                                <!--Try out <a href="http://startbootstrap.com/template-overviews/sb-admin-2" class="alert-link">SB Admin 2</a> for additional features!-->
                            </div>
                        </div>
                    </div>
                    <!-- Pane Section 2 -->
                    <div class="row">
                        <div class="col-lg-offset-1 col-lg-10">
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-lg-2 control-label" for="ptOwnerCombobox">Select Owner</label>
                                    <div class="col-lg-9">
                                        <div class="input-group input-append dropdown combobox" id="ptOwnerCombobox" data-initialize="combobox">
                                            <input type="text" class="form-control">
                                            <div class="input-group-btn">
                                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                                    <span class="caret"></span>
                                                </button>
                                                

                                                <ul class="dropdown-menu dropdown-menu-right" data-bind="foreach: owners">
                                                    <li data-bind="attr: { 'data-value': OptionId }">
                                                        <a href="#"><span data-bind="text: OptionText"></span></a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div data-bind="if: selectedOwner">
                                    <div class="form-group">
                                        <label class="col-lg-2 control-label">Registered Pets</label>
                                        <div class="col-lg-9">
                                            <ul class="list-group" data-bind="foreach: pets">
                                                <li class="list-group-item">
                                                    <div class="media">
                                                        <div class="media-body">
                                                            <h4 class="media-heading" data-bind="text: Name"></h4>
                                                            Category: <span data-bind="text: Specie">Dog</span><br />
                                                            Birth Date: <span data-bind="text: BirthDate">Thursday 14, April, 2015</span>
                                                        </div>
                                                        <div class="media-right">
                                                            <div>
                                                                <button data-toggle="modal" data-target="#historyModal" style="margin-bottom:2px" class="btn btn-info"><i class="fa fa-clock-o"></i></button>
                                                                <button class="btn btn-danger"><i class="fa fa-trash"></i></button>
                                                            </div>
                                                            <img class="img-circle media-object" />
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <ol class="breadcrumb">
                                        <li class="active">
                                            <i class="fa fa-paw"></i> Add More Mascots
                                        </li>
                                    </ol>
                                    <div class="form-group">
                                        <label class="col-lg-2 control-label" for="petName">Pet Name</label>
                                        <div class="col-lg-9">
                                            <input type="text" class="form-control" id="petName" placeholder="Laika">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-lg-2 control-label">Birth Date</label>
                                        <div class="col-lg-9">
                                            <div class="datepicker fuelux" id="ptBirthDatepicker">
                                                <div class="input-group">
                                                    <input class="form-control" type="text"  />
                                                    <div class="input-group-btn">
                                                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                                            <span class="fa fw fa-calendar"></span>
                                                            <span class="sr-only">Toggle Calendar</span>
                                                        </button>
                                                        <div class="dropdown-menu dropdown-menu-right datepicker-calendar-wrapper" role="menu">
                                                            <div class="datepicker-calendar">
                                                                <div class="datepicker-calendar-header">
                                                                    <button type="button" class="prev"><span class="glyphicon glyphicon-chevron-left"></span><span class="sr-only">Previous Month</span></button>
                                                                    <button type="button" class="next"><span class="glyphicon glyphicon-chevron-right"></span><span class="sr-only">Next Month</span></button>
                                                                    <button type="button" class="title" data-month="11" data-year="2014">
                                                                        <span class="month">
                                                                            <span data-month="0">January</span>
                                                                            <span data-month="1">February</span>
                                                                            <span data-month="2">March</span>
                                                                            <span data-month="3">April</span>
                                                                            <span data-month="4">May</span>
                                                                            <span data-month="5">June</span>
                                                                            <span data-month="6">July</span>
                                                                            <span data-month="7">August</span>
                                                                            <span data-month="8">September</span>
                                                                            <span data-month="9">October</span>
                                                                            <span data-month="10">November</span>
                                                                            <span data-month="11" class="current">December</span>
                                                                        </span> <span class="year">2014</span>
                                                                    </button>
                                                                </div>
                                                                <table class="datepicker-calendar-days">
                                                                    <thead>
                                                                        <tr>
                                                                            <th>Su</th>
                                                                            <th>Mo</th>
                                                                            <th>Tu</th>
                                                                            <th>We</th>
                                                                            <th>Th</th>
                                                                            <th>Fr</th>
                                                                            <th>Sa</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody></tbody>
                                                                </table>
                                                                <div class="datepicker-calendar-footer">
                                                                    <button type="button" class="datepicker-today">Today</button>
                                                                </div>
                                                            </div>
                                                            <div class="datepicker-wheels" aria-hidden="true">
                                                                <div class="datepicker-wheels-month">
                                                                    <h2 class="header">Month</h2>
                                                                    <ul>
                                                                        <li data-month="0"><button type="button">Jan</button></li>
                                                                        <li data-month="1"><button type="button">Feb</button></li>
                                                                        <li data-month="2"><button type="button">Mar</button></li>
                                                                        <li data-month="3"><button type="button">Apr</button></li>
                                                                        <li data-month="4"><button type="button">May</button></li>
                                                                        <li data-month="5"><button type="button">Jun</button></li>
                                                                        <li data-month="6"><button type="button">Jul</button></li>
                                                                        <li data-month="7"><button type="button">Aug</button></li>
                                                                        <li data-month="8"><button type="button">Sep</button></li>
                                                                        <li data-month="9"><button type="button">Oct</button></li>
                                                                        <li data-month="10"><button type="button">Nov</button></li>
                                                                        <li data-month="11"><button type="button">Dec</button></li>
                                                                    </ul>
                                                                </div>
                                                                <div class="datepicker-wheels-year">
                                                                    <h2 class="header">Year</h2>
                                                                    <ul></ul>
                                                                </div>
                                                                <div class="datepicker-wheels-footer clearfix">
                                                                    <button type="button" class="btn datepicker-wheels-back"><span class="glyphicon glyphicon-arrow-left"></span><span class="sr-only">Return to Calendar</span></button>
                                                                    <button type="button" class="btn datepicker-wheels-select">Select <span class="sr-only">Month and Year</span></button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-lg-2 control-label" for="ptSpecieCombobox">Pet Category</label>
                                        <div class="col-lg-9">
                                            <div class="input-group input-append dropdown combobox" id="ptSpecieCombobox" data-initialize="combobox">
                                                <input type="text" class="form-control">
                                                <div class="input-group-btn">
                                                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                                        <span class="caret"></span>
                                                    </button>
                                                    <ul class="dropdown-menu dropdown-menu-right">
                                                        <li data-value="1"><a href="#">Dogs</a></li>
                                                        <li data-value="2"><a href="#">Cats</a></li>
                                                        <li data-value="3"><a href="#">Others</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-lg-offset-2 col-lg-8">
                                            <button onclick="javascript: addPet(this);" class="btn">Add</button>
                                        </div>
                                    </div>
                                    
                                </div>
                                <!-- Buttons -->
                                <div class="col-lg-offset-1 col-lg-10">
                                    <hr />
                                    <div class="pull-right">
                                        <button class="btn ">Discard</button>
                                        <button id="saveOwnerDetailsButton" style="margin-left: 10px"
                                                 data-loading-text="Submiting Data ..."
                                                class="btn btn-primary">Save Changes</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div id="eventpane" class="hide fade">
                    <!-- Pane Heading -->
                    <div class="row">
                        <div class="col-lg-12">
                            <h1 class="page-header">
                                Your Pack <small>Details</small>
                            </h1>
                            <ol class="breadcrumb">
                                <li class="active">
                                    <i class="fa fa-clock-o"></i> Add new Events
                                </li>
                            </ol>
                        </div>
                    </div>
                    <!-- Pane Body -->
                    <div class="row">
                        <div class="col-lg-offset-1 col-lg-10">
                            <div id="eventForm" class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-lg-2 control-label" for="eventTitle">Title</label>
                                    <div class="col-lg-9">
                                        <input type="text" class="form-control" id="eventTitle" placeholder="brief description">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 control-label" for="eventWhenInput">When</label>
                                    <div class="col-lg-9">
                                        <div class="datepicker fuelux" id="eventWhenDatepicker">
                                            <div class="input-group">
                                                <input class="form-control" id="eventWhenInput" type="text" />
                                                <div class="input-group-btn">
                                                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                                        <span class="fa fw fa-calendar"></span>
                                                        <span class="sr-only">Toggle Calendar</span>
                                                    </button>
                                                    <div class="dropdown-menu dropdown-menu-right datepicker-calendar-wrapper" role="menu">
                                                        <div class="datepicker-calendar">
                                                            <div class="datepicker-calendar-header">
                                                                <button type="button" class="prev"><span class="glyphicon glyphicon-chevron-left"></span><span class="sr-only">Previous Month</span></button>
                                                                <button type="button" class="next"><span class="glyphicon glyphicon-chevron-right"></span><span class="sr-only">Next Month</span></button>
                                                                <button type="button" class="title" data-month="11" data-year="2014">
                                                                    <span class="month">
                                                                        <span data-month="0">January</span>
                                                                        <span data-month="1">February</span>
                                                                        <span data-month="2">March</span>
                                                                        <span data-month="3">April</span>
                                                                        <span data-month="4">May</span>
                                                                        <span data-month="5">June</span>
                                                                        <span data-month="6">July</span>
                                                                        <span data-month="7">August</span>
                                                                        <span data-month="8">September</span>
                                                                        <span data-month="9">October</span>
                                                                        <span data-month="10">November</span>
                                                                        <span data-month="11" class="current">December</span>
                                                                    </span> <span class="year">2014</span>
                                                                </button>
                                                            </div>
                                                            <table class="datepicker-calendar-days">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Su</th>
                                                                        <th>Mo</th>
                                                                        <th>Tu</th>
                                                                        <th>We</th>
                                                                        <th>Th</th>
                                                                        <th>Fr</th>
                                                                        <th>Sa</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody></tbody>
                                                            </table>
                                                            <div class="datepicker-calendar-footer">
                                                                <button type="button" class="datepicker-today">Today</button>
                                                            </div>
                                                        </div>
                                                        <div class="datepicker-wheels" aria-hidden="true">
                                                            <div class="datepicker-wheels-month">
                                                                <h2 class="header">Month</h2>
                                                                <ul>
                                                                    <li data-month="0"><button type="button">Jan</button></li>
                                                                    <li data-month="1"><button type="button">Feb</button></li>
                                                                    <li data-month="2"><button type="button">Mar</button></li>
                                                                    <li data-month="3"><button type="button">Apr</button></li>
                                                                    <li data-month="4"><button type="button">May</button></li>
                                                                    <li data-month="5"><button type="button">Jun</button></li>
                                                                    <li data-month="6"><button type="button">Jul</button></li>
                                                                    <li data-month="7"><button type="button">Aug</button></li>
                                                                    <li data-month="8"><button type="button">Sep</button></li>
                                                                    <li data-month="9"><button type="button">Oct</button></li>
                                                                    <li data-month="10"><button type="button">Nov</button></li>
                                                                    <li data-month="11"><button type="button">Dec</button></li>
                                                                </ul>
                                                            </div>
                                                            <div class="datepicker-wheels-year">
                                                                <h2 class="header">Year</h2>
                                                                <ul></ul>
                                                            </div>
                                                            <div class="datepicker-wheels-footer clearfix">
                                                                <button type="button" class="btn datepicker-wheels-back"><span class="glyphicon glyphicon-arrow-left"></span><span class="sr-only">Return to Calendar</span></button>
                                                                <button type="button" class="btn datepicker-wheels-select">Select <span class="sr-only">Month and Year</span></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 control-label">Owner</label>
                                    <div class="col-lg-9">
                                        <div class="input-group input-append dropdown combobox" id="ownerCombobox">
                                            <input type="text" class="form-control">
                                            <div class="input-group-btn">
                                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                                    <!--<span class="glyphicon glyphicon-search"></span>-->
                                                    <span class="caret"></span>
                                                </button>
                                                <button type="button" class="btn btn-default" data-toggle="modal" data-target="#ownerModal">
                                                    <span class="glyphicon glyphicon-plus"></span>
                                                </button>

                                                <ul class="dropdown-menu dropdown-menu-right" data-bind="foreach: owners">
                                                    <li data-bind="attr: { 'data-value': OptionId }">
                                                        <a href="#"><span data-bind="text: OptionText"></span></a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 control-label">Pets</label>
                                    <div class="col-lg-9">
                                        <div class="input-group input-append dropdown combobox" data-initialize="combobox" id="petCombobox">
                                            <input type="text" class="form-control">
                                            <div class="input-group-btn">
                                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button>
                                                <ul class="dropdown-menu dropdown-menu-right" data-bind="foreach: pets">
                                                    <li data-bind="attr: { 'data-value': PetId }">
                                                        <a href="#"><span data-bind="text: Name"></span></a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 control-label" for="deseaseCombobox">Desease</label>
                                    <div class="col-lg-9">
                                        <div class="input-group input-append dropdown combobox disabled" data-initialize="combobox" id="deseaseCombobox">
                                            <input type="text" class="form-control">
                                            <div class="input-group-btn">
                                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button>
                                                <ul class="dropdown-menu dropdown-menu-right" data-bind="foreach: deseases">
                                                    <li data-bind="attr: { 'data-value': Id }" data-value="1">
                                                        <a href="#"><span data-bind="text: Title"></span></a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Map Help -->
                                <div class="form-group">
                                    <label class="col-lg-2 control-label" for="eventWhen">Location</label>
                                    <div class="col-lg-9">
                                        <div id="eventMapInput" style="height:350px">
                                            <!--Maps Goes Here-->
                                        </div>
                                    </div>
                                    <input type="hidden" name="latitude" id="eventLat" />
                                    <input type="hidden" name="longitude" id="eventLng" />
                                </div>
                                <!-- Buttons -->
                                <div class="col-lg-offset-1 col-lg-10">
                                    <hr />
                                    <div class="pull-right">
                                        <button id="discardEventButton" class="btn ">Discard</button>
                                        <button id="saveEventButton"
                                                data-loading-text="Submiting Data ..."
                                                style="margin-left:10px"
                                                class="btn btn-primary">
                                            Save Changes
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div id="explopane" class="hide fade">
                    <!-- Page Heading -->
                    <div class="row">
                        <div class="col-lg-12">
                            <h1 class="page-header">
                                Map <small>Discover what's up in your Area</small>
                            </h1>
                            <ol class="breadcrumb">
                                <li class="active">
                                    <i class="fa fa-map-o"></i> Explore Map
                                </li>
                            </ol>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="panel panel-default">
                                <div id="exploreMap" style="min-height:450px; margin:10px" class="panel-body">
                                    <!--Maps Goes Here-->
                                    <!--<iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d3670785.033068472!2d-60.895492749999995!3d-26.0417017!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sar!4v1460598569334" width="1200" height="1024" frameborder="0" style="border:0"></iframe>-->
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.container-fluid -->
                </div>

            </div>
        </div>
    </div>
    <!-- Soon Modal -->
    <div id="soonModal" class="modal fade" role="dialog" aria-labelledby="soonModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content text-center">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="soonModalLabel">Feature</h4>
                </div>
                <div class="modal-body">
                    <h1>Coming Soon</h1>
                    <h2><i class="fa fa-smile-o"></i></h2>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- New Owner Modal -->
    <div id="ownerModal" class="modal fade" role="dialog" aria-labelledby="ownerModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content text-center">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="ownerModalLabel">Add New Owner</h4>
                </div>
                <div class="modal-body">
                    <h1 class="text-left">Person Detail</h1>
                    <hr />
                    <div id="eventForm" class="form-horizontal">
                        <div class="form-group">
                            <label class="col-xs-3 control-label" for="firstNameInput">First Name</label>
                            <div class="col-xs-9">
                                <input type="text" class="form-control" id="firstNameInput">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-3 control-label" for="lastNameInput">Last Name</label>
                            <div class="col-xs-9">
                                <input type="text" class="form-control" id="lastNameInput">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-3 control-label" for="uniqueInput">Unique ID</label>
                            <div class="col-xs-9">
                                <input type="text" class="form-control" id="uniqueInput" placeholder="ID from issue country">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-3 control-label" for="petNameInput">Pet Name</label>
                            <div class="col-xs-9">
                                <input type="text" class="form-control" id="petNameInput">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Add</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- History Modal -->
    <div id="historyModal" class="modal fade" role="dialog" aria-labelledby="historyModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content text-center">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="historyModalLabel">History</h4>
                </div>
                <div class="modal-body">
                    <ul class="timeline">
                        <li>
                            <div class="timeline-badge">
                                <i class="fa fa-paw"></i>
                            </div>
                            <div class="timeline-panel">
                                <div class="timeline-heading">
                                    <h4 class="timeline-title">Lorem ipsum dolor</h4>
                                    <p>
                                        <small class="text-muted"><i class="fa fa-clock-o"></i> 11 hours ago via Twitter</small>
                                    </p>
                                </div>
                                <div class="timeline-body">
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Libero laboriosam dolor perspiciatis omnis exercitationem. Beatae, officia pariatur? Est cum veniam excepturi. Maiores praesentium, porro voluptas suscipit facere rem dicta, debitis.</p>
                                </div>
                            </div>
                        </li>
                        <li class="timeline-inverted">
                            <div class="timeline-badge success">
                                <i class="fa fa-check"></i>
                            </div>
                            <div class="timeline-panel">
                                <div class="timeline-heading">
                                    <h4 class="timeline-title">Lorem ipsum dolor</h4>
                                </div>
                                <div class="timeline-body">
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Autem dolorem quibusdam, tenetur commodi provident cumque magni voluptatem libero, quis rerum. Fugiat esse debitis optio, tempore. Animi officiis alias, officia repellendus.</p>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laudantium maiores odit qui est tempora eos, nostrum provident explicabo dignissimos debitis vel! Adipisci eius voluptates, ad aut recusandae minus eaque facere.</p>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="timeline-badge info">
                                <i class="fa fa-lightbulb-o"></i>
                            </div>
                            <div class="timeline-panel">
                                <div class="timeline-heading">
                                    <h4 class="timeline-title">Lorem ipsum dolor</h4>
                                </div>
                                <div class="timeline-body">
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Repellendus numquam facilis enim eaque, tenetur nam id qui vel velit similique nihil iure molestias aliquam, voluptatem totam quaerat, magni commodi quisquam.</p>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="Scripts/jquery-1.10.2.min.js"></script>
    <script src="Scripts/bootstrap.js"></script>
    <script src="Scripts/knockout-3.4.0.debug.js"></script>
    <script src="Scripts/moment.js"></script>
    <script src="//www.fuelcdn.com/fuelux/3.15.0/js/fuelux.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.js'></script>
    <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/leaflet.markercluster.js'></script>
    <!-- Custom JavaScript -->
    <script src="Scripts/app.js"></script>
    <script src="Scripts/dashboard.js"></script>
    <script>
        function getMarkers() {
            var addressPoints = [
                [-27.369633084667676, -55.893845558166504, "This is event 1"],
                [-27.369594973296245, -55.886893272399895, "This is event 2"],
                [-27.37138619356735, -55.88725805282593, "This is event 3"],
            ];

            var markers = new L.MarkerClusterGroup();

            for (var i = 0; i < addressPoints.length; i++) {
                var a = addressPoints[i];
                var title = a[2];
                var marker = L.marker(new L.LatLng(a[0], a[1]), {
                    icon: L.mapbox.marker.icon({ 'marker-symbol': 'dog-park', "marker-size": "large", 'marker-color': '#FF8000' }),
                    title: title
                });
                marker.bindPopup(title);
                markers.addLayer(marker);
            }

            return markers;
        }

        function showEventMap(point) {
            // detect if it is already shown
            if ($('#eventMapInput').children().length > 0) {
                return;
            }

            var map = L.mapbox.map('eventMapInput', 'mapbox.streets', { tileLayer: { format: 'jpg70' } })
                .setView(point, 15)
                .addControl(L.mapbox.geocoderControl('mapbox.places', {
                    autocomplete: true
                }));

            var marker = L.marker(point, {
                icon: L.mapbox.marker.icon({
                    'marker-color': '#f86767'
                }),
                draggable: true
            }).addTo(map);

            marker.on('dragend', function () {
                var pos = marker.getLatLng();
                $('#eventLat').val(pos.lat);
                $('#eventLng').val(pos.lng);
                //alert('Latitude:' + pos.lat + '\nLongitude: ' + pos.lng);
            });
        }

        function showExploreMap() {

            var map = L.mapbox.map('exploreMap', 'mapbox.streets', { tileLayer: { format: 'jpg70' }, zindex: 1 })
                            .setView([-27.36616489612778, -55.89320182800293], 13);

            var markers = getMarkers();

            map.addLayer(markers);
            isExploreShown = true;
        }

        function showActivityMap(center) {
            var map = L.mapbox.map('activityMap', 'mapbox.streets', { tileLayer: { format: 'jpg70' } })
                .setView([-27.36616489612778, -55.89320182800293], 15);

            dashVM.recentHistoryEvents.subscribe(function (newPoints) {
                // convert newvalue to markers
                var markers = new L.MarkerClusterGroup();

                for (var i = 0; i < newPoints.length; i++) {
                    var point = newPoints[i];
                    var marker = L.marker(new L.LatLng(point.Latitude, point.Longitude), {
                        icon: L.mapbox.marker.icon({ 'marker-symbol': 'dog-park', "marker-size": "large", 'marker-color': '#FF8000' }),
                        title: point.Title
                    });
                    marker.bindPopup(point.Title);
                    markers.addLayer(marker);
                }

                map.addLayer(markers);
            });

            dashVM.loadRecentEvents();
        }

        function showPane(source, strPane) {
            // set this element as active
            var leftMenuButton = $(source);
            var liel = leftMenuButton.parents("li");
            liel.parent().children(".active").removeClass("active");
            liel.addClass("active");
            // fade out all the panels
            var paneEl = $("#" + strPane);
            paneEl.parent().children(".fade.in").removeClass("in").addClass("hide");
            // fade in the current one
            paneEl.removeClass("hide").addClass("in");
            // Show Map
            if (strPane == 'explopane' && !isExploreShown) {
                showExploreMap();
            } else if (strPane == 'eventpane') {
                getLocation(function (position) {
                    var point = [position.coords.latitude, position.coords.longitude];
                    showEventMap(point);
                });
            }

            // scroll to top
            scrollTo(document.documentElement, 0, 500);
            // On mobile colapse menu
            $(".navbar-ex1-collapse").collapse('toggle');
        }

        function addPet(source) {

            // Set Relevant Data
            var petName = $("#petName").val();
            var birthDate = $("#ptBirthDatepicker").datepicker('getDate');
            var categ = $("#ptSpecieCombobox").combobox('selectedItem');

            var petData = {
                PetId: 0,
                Photo: null,
                Name: petName,
                BirthDate: birthDate,
                Specie : categ.text
            }

            dashVM.AddNewPet(petData);

            // Clear Form
            $("#petName").val('');
            $("#ptBirthDatepicker").datepicker('setDate', new Date());
            $("#categPet").find("option:selected").text();

            //TODO: Review here clearing the form is not working
            event.preventDefault();
        }

        function removePet(source) {
            var removeButton = $(source);
            // fade out this element
            var li = removeButton.parents("li:first");
            setTimeout(function () {
                li.remove();
            }, 500);
            li.addClass('fade');
            event.preventDefault();
        }

        function prepareEventPanel() {
            // another initialization
            var d1 = moment().subtract(10, 'years').format('MM/DD/YYYY');
            //var d2 =  new Date(now.getFullYear() + 5, 12, 31);
            $('#eventWhenDatepicker').datepicker({
                retricted: [{ from: -Infinity, to: '01/01/1996' }]
            });

            $('#saveEventButton').click(function (ev) {
                $(this).button('loading');
                // Collect form data
                var title = $('#eventTitle').val();
                var when = $('#eventWhenDatepicker').datepicker('getDate');
                var latitude = $('#eventLat').val();
                var longitude = $('#eventLng').val();
                var pet = $('#petCombobox').combobox('selectedItem');
                var illness = $('#deseaseCombobox').combobox('selectedItem');

                // Create Object
                var objData = {
                    "title": title,
                    "when": when,
                    "latitude": latitude,
                    "longitude": longitude,
                    "petid": pet.value,
                    "illnessid": illness.value
                }
                // send it to MVVM
                dashVM.addNewEvent(objData, function () {
                    alert('Event Saved!');
                    // clear stuff
                    $('#eventTitle').val('');
                    $('#saveEventButton').button('reset');
                    $('#eventWhenDatepicker').datepicker('setDate', new Date());
                }, function () {
                    alert('Oh NO!');
                    $('#saveEventButton').button('reset');
                });
            });

            $('#ownerCombobox').combobox({
                filterOnKeypress: true,
                showOptionsOnKeypress: true,
                filter: function filter(list, predicate, self) {
                    var visible = 0;
                    self.$dropMenu.find('.empty-indicator').remove();

                    list.each(function (i) {
                        var $li = $(this);
                        var text = $(this).text().trim().toLowerCase();

                        $li.removeClass();

                        if (text === predicate.toLowerCase()) {
                            $li.addClass('text-success');
                            visible++;
                        } else if (text.substr(text.indexOf(predicate), predicate.length) === predicate) {
                            $li.addClass('text-info');
                            visible++;
                        } else {
                            $li.addClass('hidden');
                        }
                    });

                    if (visible === 0) {
                        self.$dropMenu.append('<li class="empty-indicator text-muted"><em>No Matches</em></li>');
                    }
                }
            }).on('changed.fu.combobox', function (evt, data) {
                var selectedItem = $('#ownerCombobox').combobox('selectedItem');
                dashVM.loadPets(selectedItem.value);
                $('#petCombobox').combobox('enable');
                
            });

            
        }

        function preparePetPanel() {
            ///<summary>Prepares the manage pets</summary>

            //TODO: Set combobox with filtering
            
            // owner
            $('#ptOwnerCombobox').combobox().on('changed.fu.combobox', function (evt, data) {
                var selectedItem = $('#ptOwnerCombobox').combobox('selectedItem');
                dashVM.selectedOwner(selectedItem.value);
                dashVM.loadPets(selectedItem.value);
                // TODO: Initialize Date Picker Is not working - Valid Date Range
                var minDate = new Date();
                minDate.setFullYear(minDate.getFullYear() - 15);
                var maxDate = new Date();
                maxDate.setFullYear(maxDate.getFullYear() + 15);
                $('#ptBirthDatepicker').datepicker({
                    retricted: [
                        { from: -Infinity, to: minDate.toDateString() },
                        { from: maxDate.toDateString(), to: Infinity }
                    ]
                });
            });


        }

        var dashVM = null;
        var isExploreShown = false;

        $(document).ready(function () {
            // bind initially VM to HTMLBody
            dashVM = new dashboardViewModel();
            ko.applyBindings(dashVM);
            // set my access token in order to show maps
            L.mapbox.accessToken = 'pk.eyJ1IjoicGFjaGlmbHllciIsImEiOiJjaW4zdmwydWswYnphdjdrazRwcWY5enU1In0.U5Z6syz8o-TcXv2uR6Qqug';

            showActivityMap();
            
            prepareEventPanel();

            preparePetPanel();

            //$('#ownerCombobox').combobox('enable');
            $('#petCombobox').combobox('disable');
        });
    </script>
</body>
</html>
